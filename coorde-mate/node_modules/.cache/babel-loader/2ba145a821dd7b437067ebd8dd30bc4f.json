{"ast":null,"code":"var _jsxFileName = \"/Users/konchan/works/frontend/coorde-mate/src/components/TimeLine.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n/* myComponents */\n\nimport RequestCard from './RequestCard'; //import img from '../img/iconSample.jpg';\n\nclass TimeLine extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      //datas:[]\n      requestDatas: [],\n      userDatas: []\n    };\n  }\n  /*componentWillMount(){\n    const request = axios.create({\n      baseURL: 'http://18.178.35.28:3001'\n    })\n     request.get(`/requests`)\n    .then(res => {\n      this.setState({\n        datas: res.data\n      });\n    })\n  }*/\n  //ここからtest\n\n\n  componentWillMount() {\n    const request = axios.create({\n      baseURL: 'http://18.178.35.28:3001'\n    }); //this.props.match.params.requestId でURLを取得してる\n    //依頼情報の取得\n\n    request.get(\"/requests/\".concat(this.props.match.params.requestId)).then(res => {\n      this.setState({\n        requestDatas: res.data\n      });\n      this.setUser(request, this.state.requestDatas.r_u_id);\n    });\n  }\n\n  setUser(request, userId) {\n    request.get(\"users/\".concat(userId)).then(res => {\n      this.setState({\n        userDatas: res.data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.datas.map(data => {\n      return React.createElement(Link, {\n        to: \"/request/\".concat(data.id),\n        key: data.id,\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(RequestCard, {\n        requestId: data.id,\n        title: data.r_title,\n        limit: data.r_limit,\n        memo: data.r_memo,\n        userId: data.r_u_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }));\n    }));\n  }\n\n}\n\nexport default TimeLine;","map":{"version":3,"sources":["/Users/konchan/works/frontend/coorde-mate/src/components/TimeLine.js"],"names":["React","axios","Link","RequestCard","TimeLine","Component","constructor","state","requestDatas","userDatas","componentWillMount","request","create","baseURL","get","props","match","params","requestId","then","res","setState","data","setUser","r_u_id","userId","render","datas","map","id","r_title","r_limit","r_memo"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA;;AACA,OAAOC,WAAP,MAAwB,eAAxB,C,CAIA;;AAEA,MAAMC,QAAN,SAAuBJ,KAAK,CAACK,SAA7B,CAAuC;AACrCC,EAAAA,WAAW,GAAE;AACX;AACA,SAAKC,KAAL,GAAa;AACX;AACAC,MAAAA,YAAY,EAAE,EAFH;AAGXC,MAAAA,SAAS,EAAE;AAHA,KAAb;AAKD;AAED;;;;;;;;;;;AAeA;;;AACAC,EAAAA,kBAAkB,GAAE;AAClB,UAAMC,OAAO,GAAGV,KAAK,CAACW,MAAN,CAAa;AAC3BC,MAAAA,OAAO,EAAE;AADkB,KAAb,CAAhB,CADkB,CAKlB;AACA;;AACAF,IAAAA,OAAO,CAACG,GAAR,qBAAyB,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,SAAjD,GACCC,IADD,CACMC,GAAG,IAAI;AACX,WAAKC,QAAL,CAAc;AAAEb,QAAAA,YAAY,EAAEY,GAAG,CAACE;AAApB,OAAd;AACA,WAAKC,OAAL,CAAaZ,OAAb,EAAsB,KAAKJ,KAAL,CAAWC,YAAX,CAAwBgB,MAA9C;AACD,KAJD;AAKD;;AAEDD,EAAAA,OAAO,CAACZ,OAAD,EAAUc,MAAV,EAAkB;AACvBd,IAAAA,OAAO,CAACG,GAAR,iBAAqBW,MAArB,GACCN,IADD,CACMC,GAAG,IAAI;AACX,WAAKC,QAAL,CAAc;AAAEZ,QAAAA,SAAS,EAAGW,GAAG,CAACE;AAAlB,OAAd;AACD,KAHD;AAID;;AAMDI,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKnB,KAAL,CAAWoB,KAAX,CAAiBC,GAAjB,CAAsBN,IAAD,IAAU;AAC9B,aACE,oBAAC,IAAD;AAAM,QAAA,EAAE,qBAAcA,IAAI,CAACO,EAAnB,CAAR;AACG,QAAA,GAAG,EAAEP,IAAI,CAACO,EADb;AAEG,QAAA,SAAS,EAAC,WAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,WAAD;AACE,QAAA,SAAS,EAAIP,IAAI,CAACO,EADpB;AAEE,QAAA,KAAK,EAAIP,IAAI,CAACQ,OAFhB;AAGE,QAAA,KAAK,EAAIR,IAAI,CAACS,OAHhB;AAIE,QAAA,IAAI,EAAIT,IAAI,CAACU,MAJf;AAKE,QAAA,MAAM,EAAIV,IAAI,CAACE,MALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF;AAcD,KAfA,CADH,CADF;AAoBD;;AAxEoC;;AA2EvC,eAAepB,QAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\n/* myComponents */\nimport RequestCard from './RequestCard';\n\n\n\n//import img from '../img/iconSample.jpg';\n\nclass TimeLine extends React.Component {\n  constructor(){\n    super();\n    this.state = {\n      //datas:[]\n      requestDatas: [],\n      userDatas: []\n    };\n  }\n\n  /*componentWillMount(){\n    const request = axios.create({\n      baseURL: 'http://18.178.35.28:3001'\n    })\n\n    request.get(`/requests`)\n    .then(res => {\n      this.setState({\n        datas: res.data\n      });\n    })\n  }*/\n\n\n\n  //ここからtest\n  componentWillMount(){\n    const request = axios.create({\n      baseURL: 'http://18.178.35.28:3001'\n    })\n\n    //this.props.match.params.requestId でURLを取得してる\n    //依頼情報の取得\n    request.get(`/requests/${this.props.match.params.requestId}`)\n    .then(res => {\n      this.setState({ requestDatas: res.data })\n      this.setUser(request, this.state.requestDatas.r_u_id)\n    })\n  }\n\n  setUser(request, userId) {\n    request.get(`users/${userId}`)\n    .then(res => {\n      this.setState({ userDatas : res.data})\n    })\n  }\n\n\n\n\n\n  render() {\n    return (\n      <div>\n        {this.state.datas.map((data) => {\n          return (\n            <Link to={`/request/${data.id}`}\n               key={data.id}\n               className=\"container\"\n            >\n              <RequestCard\n                requestId = {data.id}\n                title = {data.r_title}\n                limit = {data.r_limit}\n                memo = {data.r_memo}\n                userId = {data.r_u_id}\n              />\n          </Link>\n          )\n        })}\n      </div>\n    );\n  }\n}\n\nexport default TimeLine;\n"]},"metadata":{},"sourceType":"module"}