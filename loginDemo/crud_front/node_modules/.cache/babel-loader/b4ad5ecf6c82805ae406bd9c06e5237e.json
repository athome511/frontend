{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _nonPreviewDefaultComponent = require('./nonPreviewDefaultComponent');\n\nvar _nonPreviewDefaultComponent2 = _interopRequireDefault(_nonPreviewDefaultComponent);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar FileInputBase64PreviewComponent = function (_Component) {\n  _inherits(FileInputBase64PreviewComponent, _Component);\n\n  function FileInputBase64PreviewComponent(props) {\n    _classCallCheck(this, FileInputBase64PreviewComponent);\n\n    var _this = _possibleConstructorReturn(this, (FileInputBase64PreviewComponent.__proto__ || Object.getPrototypeOf(FileInputBase64PreviewComponent)).call(this, props));\n\n    _this.state = {\n      image_objs_array: []\n    };\n    return _this;\n  }\n\n  _createClass(FileInputBase64PreviewComponent, [{\n    key: 'simulateClickOnInput',\n    value: function simulateClickOnInput() {\n      var clickEvent = new MouseEvent(\"click\", {\n        \"view\": window,\n        \"bubbles\": true,\n        \"cancelable\": false\n      });\n      this.fileInput.dispatchEvent(clickEvent);\n    }\n  }, {\n    key: 'handleFileChange',\n    value: function handleFileChange(e) {\n      var _this2 = this;\n\n      var inp_files = e.target.files;\n      var op_all_files = [];\n\n      var _loop = function _loop(i) {\n        var to_file = inp_files[i];\n        var reader_obj = new FileReader();\n        reader_obj.readAsDataURL(to_file);\n\n        reader_obj.onload = function () {\n          var to_file_obj = {\n            name: to_file.name,\n            type: to_file.type,\n            size: Math.round(to_file.size / 1000),\n            base64: reader_obj.result,\n            file: to_file\n          };\n          op_all_files.push(to_file_obj);\n\n          if (op_all_files.length === inp_files.length) {\n            if (_this2.props.multiple) {\n              _this2.setState({\n                image_objs_array: op_all_files\n              });\n\n              _this2.props.callbackFunction(op_all_files);\n            } else {\n              _this2.setState({\n                image_objs_array: op_all_files\n              });\n\n              _this2.props.callbackFunction(op_all_files[0]);\n            }\n          }\n        };\n      };\n\n      for (var i = 0; i < inp_files.length; i++) {\n        _loop(i);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      return _react2.default.createElement('div', {\n        style: this.props.parentStyle\n      }, _react2.default.createElement('label', {\n        htmlFor: this.props.inputId,\n        style: this.props.labelStyle\n      }, this.props.labelText), this.props.imagePreview && (this.state.image_objs_array.length !== 0 || this.props.defaultFiles.length !== 0) && _react2.default.createElement('div', {\n        style: this.props.imageContainerStyle\n      }, this.state.image_objs_array.length !== 0 && this.state.image_objs_array.map(function (img_obj) {\n        if (img_obj.type.split(\"/\")[0] === \"image\") {\n          return _react2.default.createElement('img', {\n            alt: img_obj.name,\n            src: img_obj.base64,\n            key: img_obj.name,\n            style: _this3.props.imageStyle\n          });\n        } else {\n          return _react2.default.cloneElement(_this3.props.nonPreviewComponent, {\n            type: img_obj.type,\n            size: img_obj.size,\n            title: img_obj.name,\n            key: img_obj.name\n          });\n        }\n      }), this.state.image_objs_array.length === 0 && this.props.defaultFiles.map(function (img_url, index) {\n        return _react2.default.createElement('img', {\n          alt: \"Preview \" + index,\n          src: img_url,\n          key: index,\n          style: _this3.props.imageStyle\n        });\n      })), _react2.default.createElement('input', {\n        name: this.props.inputName,\n        id: this.props.inputId,\n        type: 'file',\n        onChange: this.handleFileChange.bind(this),\n        multiple: this.props.multiple,\n        accept: this.props.accept,\n        ref: function ref(thisInput) {\n          _this3.fileInput = thisInput;\n        },\n        style: {\n          display: \"none\"\n        }\n      }), this.props.textBoxVisible && _react2.default.cloneElement(this.props.textFieldComponent, this.props.useTapEventPlugin ? {\n        onTouchTap: function onTouchTap() {\n          _this3.simulateClickOnInput();\n        },\n        value: this.state.image_objs_array.length === 1 ? this.state.image_objs_array[0].name : this.state.image_objs_array.length > 1 ? this.state.image_objs_array.length + \" files selected\" : this.props.defaultFiles.length === 0 ? \"No files selected\" : \"Leave empty to keep previous selection\"\n      } : {\n        onClick: function onClick() {\n          _this3.simulateClickOnInput();\n        },\n        value: this.state.image_objs_array.length === 1 ? this.state.image_objs_array[0].name : this.state.image_objs_array.length > 1 ? this.state.image_objs_array.length + \" files selected\" : this.props.defaultFiles.length === 0 ? \"No files selected\" : \"Leave empty to keep previous selection\"\n      }), _react2.default.cloneElement(this.props.buttonComponent, this.props.useTapEventPlugin ? {\n        onTouchTap: function onTouchTap() {\n          _this3.simulateClickOnInput();\n        }\n      } : {\n        onClick: function onClick() {\n          _this3.simulateClickOnInput();\n        }\n      }));\n    }\n  }]);\n\n  return FileInputBase64PreviewComponent;\n}(_react.Component);\n\nexports.default = FileInputBase64PreviewComponent;\nFileInputBase64PreviewComponent.defaultProps = {\n  callbackFunction: function callbackFunction() {},\n  labelText: \"File Upload\",\n  useTapEventPlugin: false,\n  multiple: true,\n  imagePreview: true,\n  textBoxVisible: false,\n  accept: \"*\",\n  imageContainerStyle: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    width: \"100%\",\n    flexWrap: \"wrap\"\n  },\n  imageStyle: {\n    marginTop: 5,\n    marginBottom: 5,\n    marginRight: 5,\n    width: \"auto\",\n    height: \"30vmin\",\n    boxShadow: \"rgba(0, 0, 0, 0.188235) 0px 10px 30px, rgba(0, 0, 0, 0.227451) 0px 6px 10px\" //zDepth 3\n\n  },\n  labelStyle: {\n    fontSize: 16,\n    color: 'rgba(0, 0, 0, 0.298039)',\n    display: 'block'\n  },\n  parentStyle: {\n    marginTop: 14\n  },\n  buttonComponent: _react2.default.createElement('button', {\n    type: 'button'\n  }, 'Attach'),\n  nonPreviewComponent: _react2.default.createElement(_nonPreviewDefaultComponent2.default, null),\n  textFieldComponent: _react2.default.createElement('input', {\n    type: 'text'\n  }),\n  defaultFiles: []\n};\nFileInputBase64PreviewComponent.propTypes = {\n  inputName: _propTypes2.default.string,\n  inputId: _propTypes2.default.string,\n  callbackFunction: _propTypes2.default.func,\n  labelText: _propTypes2.default.string,\n  useTapEventPlugin: _propTypes2.default.bool,\n  multiple: _propTypes2.default.bool,\n  imagePreview: _propTypes2.default.bool,\n  textBoxVisible: _propTypes2.default.bool,\n  accept: _propTypes2.default.string,\n  imageContainerStyle: _propTypes2.default.object,\n  imageStyle: _propTypes2.default.object,\n  labelStyle: _propTypes2.default.object,\n  parentStyle: _propTypes2.default.object,\n  buttonComponent: _propTypes2.default.element,\n  nonPreviewComponent: _propTypes2.default.element,\n  textFieldComponent: _propTypes2.default.element,\n  defaultFiles: _propTypes2.default.array\n};","map":{"version":3,"sources":["/Users/konchan/works/frontend/loginDemo/crud_front/node_modules/react-file-input-previews-base64/lib/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_nonPreviewDefaultComponent","_nonPreviewDefaultComponent2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","FileInputBase64PreviewComponent","_Component","_this","getPrototypeOf","state","image_objs_array","simulateClickOnInput","clickEvent","MouseEvent","window","fileInput","dispatchEvent","handleFileChange","e","_this2","inp_files","files","op_all_files","_loop","to_file","reader_obj","FileReader","readAsDataURL","onload","to_file_obj","name","type","size","Math","round","base64","result","file","push","multiple","setState","callbackFunction","render","_this3","createElement","style","parentStyle","htmlFor","inputId","labelStyle","labelText","imagePreview","defaultFiles","imageContainerStyle","map","img_obj","split","alt","src","imageStyle","cloneElement","nonPreviewComponent","title","img_url","index","inputName","id","onChange","bind","accept","ref","thisInput","display","textBoxVisible","textFieldComponent","useTapEventPlugin","onTouchTap","onClick","buttonComponent","Component","defaultProps","flexDirection","width","flexWrap","marginTop","marginBottom","marginRight","height","boxShadow","fontSize","color","propTypes","string","func","bool","object","element","array"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _nonPreviewDefaultComponent = require('./nonPreviewDefaultComponent');\n\nvar _nonPreviewDefaultComponent2 = _interopRequireDefault(_nonPreviewDefaultComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FileInputBase64PreviewComponent = function (_Component) {\n  _inherits(FileInputBase64PreviewComponent, _Component);\n\n  function FileInputBase64PreviewComponent(props) {\n    _classCallCheck(this, FileInputBase64PreviewComponent);\n\n    var _this = _possibleConstructorReturn(this, (FileInputBase64PreviewComponent.__proto__ || Object.getPrototypeOf(FileInputBase64PreviewComponent)).call(this, props));\n\n    _this.state = {\n      image_objs_array: []\n    };\n    return _this;\n  }\n\n  _createClass(FileInputBase64PreviewComponent, [{\n    key: 'simulateClickOnInput',\n    value: function simulateClickOnInput() {\n      var clickEvent = new MouseEvent(\"click\", {\n        \"view\": window,\n        \"bubbles\": true,\n        \"cancelable\": false\n      });\n      this.fileInput.dispatchEvent(clickEvent);\n    }\n  }, {\n    key: 'handleFileChange',\n    value: function handleFileChange(e) {\n      var _this2 = this;\n\n      var inp_files = e.target.files;\n      var op_all_files = [];\n\n      var _loop = function _loop(i) {\n        var to_file = inp_files[i];\n        var reader_obj = new FileReader();\n        reader_obj.readAsDataURL(to_file);\n        reader_obj.onload = function () {\n          var to_file_obj = {\n            name: to_file.name,\n            type: to_file.type,\n            size: Math.round(to_file.size / 1000),\n            base64: reader_obj.result,\n            file: to_file\n          };\n          op_all_files.push(to_file_obj);\n          if (op_all_files.length === inp_files.length) {\n            if (_this2.props.multiple) {\n              _this2.setState({ image_objs_array: op_all_files });\n              _this2.props.callbackFunction(op_all_files);\n            } else {\n              _this2.setState({ image_objs_array: op_all_files });\n              _this2.props.callbackFunction(op_all_files[0]);\n            }\n          }\n        };\n      };\n\n      for (var i = 0; i < inp_files.length; i++) {\n        _loop(i);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      return _react2.default.createElement(\n        'div',\n        { style: this.props.parentStyle },\n        _react2.default.createElement(\n          'label',\n          { htmlFor: this.props.inputId, style: this.props.labelStyle },\n          this.props.labelText\n        ),\n        this.props.imagePreview && (this.state.image_objs_array.length !== 0 || this.props.defaultFiles.length !== 0) && _react2.default.createElement(\n          'div',\n          { style: this.props.imageContainerStyle },\n          this.state.image_objs_array.length !== 0 && this.state.image_objs_array.map(function (img_obj) {\n            if (img_obj.type.split(\"/\")[0] === \"image\") {\n              return _react2.default.createElement('img', { alt: img_obj.name, src: img_obj.base64, key: img_obj.name, style: _this3.props.imageStyle });\n            } else {\n              return _react2.default.cloneElement(_this3.props.nonPreviewComponent, { type: img_obj.type, size: img_obj.size, title: img_obj.name, key: img_obj.name });\n            }\n          }),\n          this.state.image_objs_array.length === 0 && this.props.defaultFiles.map(function (img_url, index) {\n            return _react2.default.createElement('img', { alt: \"Preview \" + index, src: img_url, key: index, style: _this3.props.imageStyle });\n          })\n        ),\n        _react2.default.createElement('input', {\n          name: this.props.inputName,\n          id: this.props.inputId,\n          type: 'file',\n          onChange: this.handleFileChange.bind(this),\n          multiple: this.props.multiple,\n          accept: this.props.accept,\n          ref: function ref(thisInput) {\n            _this3.fileInput = thisInput;\n          },\n          style: { display: \"none\" }\n        }),\n        this.props.textBoxVisible && _react2.default.cloneElement(this.props.textFieldComponent, this.props.useTapEventPlugin ? {\n          onTouchTap: function onTouchTap() {\n            _this3.simulateClickOnInput();\n          },\n          value: this.state.image_objs_array.length === 1 ? this.state.image_objs_array[0].name : this.state.image_objs_array.length > 1 ? this.state.image_objs_array.length + \" files selected\" : this.props.defaultFiles.length === 0 ? \"No files selected\" : \"Leave empty to keep previous selection\"\n        } : {\n          onClick: function onClick() {\n            _this3.simulateClickOnInput();\n          },\n          value: this.state.image_objs_array.length === 1 ? this.state.image_objs_array[0].name : this.state.image_objs_array.length > 1 ? this.state.image_objs_array.length + \" files selected\" : this.props.defaultFiles.length === 0 ? \"No files selected\" : \"Leave empty to keep previous selection\"\n        }),\n        _react2.default.cloneElement(this.props.buttonComponent, this.props.useTapEventPlugin ? { onTouchTap: function onTouchTap() {\n            _this3.simulateClickOnInput();\n          } } : { onClick: function onClick() {\n            _this3.simulateClickOnInput();\n          } })\n      );\n    }\n  }]);\n\n  return FileInputBase64PreviewComponent;\n}(_react.Component);\n\nexports.default = FileInputBase64PreviewComponent;\n\n\nFileInputBase64PreviewComponent.defaultProps = {\n  callbackFunction: function callbackFunction() {},\n  labelText: \"File Upload\",\n  useTapEventPlugin: false,\n  multiple: true,\n  imagePreview: true,\n  textBoxVisible: false,\n  accept: \"*\",\n  imageContainerStyle: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    width: \"100%\",\n    flexWrap: \"wrap\"\n  },\n  imageStyle: {\n    marginTop: 5,\n    marginBottom: 5,\n    marginRight: 5,\n    width: \"auto\",\n    height: \"30vmin\",\n    boxShadow: \"rgba(0, 0, 0, 0.188235) 0px 10px 30px, rgba(0, 0, 0, 0.227451) 0px 6px 10px\" //zDepth 3\n  },\n  labelStyle: {\n    fontSize: 16,\n    color: 'rgba(0, 0, 0, 0.298039)',\n    display: 'block'\n  },\n  parentStyle: {\n    marginTop: 14\n  },\n  buttonComponent: _react2.default.createElement(\n    'button',\n    { type: 'button' },\n    'Attach'\n  ),\n  nonPreviewComponent: _react2.default.createElement(_nonPreviewDefaultComponent2.default, null),\n  textFieldComponent: _react2.default.createElement('input', { type: 'text' }),\n  defaultFiles: []\n};\n\nFileInputBase64PreviewComponent.propTypes = {\n  inputName: _propTypes2.default.string,\n  inputId: _propTypes2.default.string,\n  callbackFunction: _propTypes2.default.func,\n  labelText: _propTypes2.default.string,\n  useTapEventPlugin: _propTypes2.default.bool,\n  multiple: _propTypes2.default.bool,\n  imagePreview: _propTypes2.default.bool,\n  textBoxVisible: _propTypes2.default.bool,\n  accept: _propTypes2.default.string,\n  imageContainerStyle: _propTypes2.default.object,\n  imageStyle: _propTypes2.default.object,\n  labelStyle: _propTypes2.default.object,\n  parentStyle: _propTypes2.default.object,\n  buttonComponent: _propTypes2.default.element,\n  nonPreviewComponent: _propTypes2.default.element,\n  textFieldComponent: _propTypes2.default.element,\n  defaultFiles: _propTypes2.default.array\n};"]},"metadata":{},"sourceType":"script"}